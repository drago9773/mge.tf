<!DOCTYPE html>
<html>
<head>
    <title><%= title %></title>
</head>
<body>
    <h1>Admin Panel</h1>

    <h2>Create Team</h2>
    <form action="/create_team" method="POST">
        <label for="name">Team Name:</label>
        <input type="text" id="name" name="name" required><br>

        <label for="division">Division:</label>
        <input type="number" id="division" name="division" required><br>

        <button type="submit">Create Team</button>
    </form>

    <h3>Teams</h3>
    <table border="1">
        <thead>
            <tr>
                <th>Team Name</th>
                <th>Division</th>
            </tr>
        </thead>
        <tbody>
            <% if (teams && teams.length > 0) { %>
                <% teams.forEach(team => { %>
                    <tr>
                        <td><%= team.name %></td>
                        <td><%= team.division %></td>
                    </tr>
                <% }) %>
            <% } else { %>
                <tr>
                    <td colspan="2">No teams created yet</td>
                </tr>
            <% } %>
        </tbody>
    </table>

    <h2>Create Match</h2>
    <form action="/create_match" method="POST">
        <label for="winner_id">Winner ID:</label>
        <input type="number" id="winner_id" name="winner_id" required><br>

        <label for="loser_id">Loser ID:</label>
        <input type="number" id="loser_id" name="loser_id" required><br>

        <label for="division_id">Division ID:</label>
        <input type="number" id="division_id" name="division_id" required><br>

        <label for="loser_score">Loser Score:</label>
        <input type="number" id="loser_score" name="loser_score" required><br>

        <label for="season_no">Season Number:</label>
        <input type="number" id="season_no" name="season_no" required><br>

        <label for="week_no">Week Number:</label>
        <input type="number" id="week_no" name="week_no" required><br>

        <button type="submit">Create Match</button>
    </form>

    <h3>Matches</h3>
    <table border="1">
        <thead>
            <tr>
                <th>Winner Team</th>
                <th>Loser Team</th>
                <th>Division</th>
                <th>Loser Score</th>
                <th>Season Number</th>
                <th>Week Number</th>
            </tr>
        </thead>
        <tbody>
            <% if (matches && matches.length > 0) { %>
                <% matches.forEach(match => { %>
                    <tr>
                        <td><%= match.winner_name %></td>
                        <td><%= match.loser_name %></td>
                        <td><%= match.division_name %></td>
                        <td><%= match.loser_score %></td>
                        <td><%= match.season_no %></td>
                        <td><%= match.week_no %></td>
                    </tr>
                <% }) %>
            <% } else { %>
                <tr>
                    <td colspan="6">No matches created yet</td>
                </tr>
            <% } %>
        </tbody>
    </table>

    <h2>Create Division</h2>
    <form action="/create_division" method="POST">
        <label for="name">Division Name:</label>
        <input type="text" id="name" name="name" required><br>

        <button type="submit">Create Division</button>
    </form>

    <h3>Divisions</h3>
    <table border="1">
        <thead>
            <tr>
                <th>Division Name</th>
            </tr>
        </thead>
        <tbody>
            <% if (divisions && divisions.length > 0) { %>
                <% divisions.forEach(division => { %>
                    <tr>
                        <td><%= division.name %></td>
                    </tr>
                <% }) %>
            <% } else { %>
                <tr>
                    <td>No divisions created yet</td>
                </tr>
            <% } %>
        </tbody>
    </table>

    <br>
    <a href="/">Back to Home</a>
</body>
</html>
